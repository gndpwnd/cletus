<!doctype html><html lang=en-us data-theme><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Analysis - JSON Merger - Cletus&rsquo;s Blog</title>
<meta name=description content="Merge JSON Files"><link rel=icon type=image/x-icon href=https://gndpwnd.github.io/cletus/favicon.ico><link rel=apple-touch-icon-precomposed href=https://gndpwnd.github.io/cletus/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=/cletus/css/style.min.44f8240afd8df81b52565c4119ac5ae247776c77fc6d7ccf6e101a6c98abfa7a.css integrity="sha256-RPgkCv2N+BtSVlxBGaxa4kd3bHf8bXzPbhAabJir+no="><link rel=stylesheet href=/cletus/css/style.min.c4c04b3ef88e3d619ad4c7ee5e03048422bc55c4fefdc1f07657c1133670aa22.css integrity="sha256-xMBLPviOPWGa1MfuXgMEhCK8VcT+/cHwdlfBEzZwqiI="><link rel=stylesheet href=/cletus/css/style.min.21c5d8fe0a79d623b0adc1ce4bd4f6dd2c05cd939c9aaaa966ba7186b1464f4d.css integrity="sha256-IcXY/gp51iOwrcHOS9T23SwFzZOcmqqpZrpxhrFGT00="><link rel=stylesheet href=/cletus/css/style.min.f18cd3add29ae9f3e51aff55fd97ff5c953a777ee889183af671a36618b527ee.css integrity="sha256-8YzTrdKa6fPlGv9V/Zf/XJU6d37oiRg69nGjZhi1J+4=" crossorigin=anonymous><link rel=stylesheet href=/cletus/css/style.min.ed5c481a16e6cdd0703319cf989b1d3510951691d1672769cca50e146a711e9c.css integrity="sha256-7VxIGhbmzdBwMxnPmJsdNRCVFpHRZydpzKUOFGpxHpw=" crossorigin=anonymous><script src=/cletus/js/script.min.08f04d96386c73c9bf4d160333f8f448c05a6e01c06770542ee0e013954ce930.js type=text/javascript integrity="sha256-CPBNljhsc8m/TRYDM/j0SMBabgHAZ3BULuDgE5VM6TA="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-32F16X8HLF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-32F16X8HLF")</script><script async defer data-website-id=d01ce82c-c8f4-4714-ba37-ba4899f2a885 data-cache=false data-do-not-track=false src=https://umami.xtra.science/script.js></script></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><div class=header-top-left><h1 class="site-title noselect"><a href=/cletus>Cletus's Blog</a></h1><div class=theme-switcher><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828A4 4 0 109.172 9.172a4 4 0 005.656 5.656z"/><path d="M6.343 17.657l-1.414 1.414"/><path d="M6.343 6.343 4.929 4.929"/><path d="M17.657 6.343l1.414-1.414"/><path d="M17.657 17.657l1.414 1.414"/><path d="M4 12H2"/><path d="M12 4V2"/><path d="M20 12h2"/><path d="M12 20v2"/></svg></span></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="auto";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");function switchTheme(){currentTheme=currentTheme==="dark"?"light":"dark",localStorage&&localStorage.setItem(STORAGE_KEY,currentTheme),document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))}const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme==="auto"?(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)):document.documentElement.setAttribute("data-theme",currentTheme),switchButton&&switchButton.addEventListener("click",switchTheme,!1),showContent()});function detectCurrentScheme(){return localStorage!==null&&localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}function changeGiscusTheme(e){function t(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})}</script><ul class="social-icons noselect"><li><a href=https://github.com/00psfreebooks/cletus title=Github rel=me><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></span></a></li><li><a href=/cletus/index.xml title=RSS rel=me><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></span></a></li></ul></div><div class=header-top-right></div></div><nav class=noselect><a href=https://gndpwnd.github.io/cletus/ title>Home</a>
<a href=https://gndpwnd.github.io/cletus/about/ title>About</a>
<a href=https://gndpwnd.github.io/cletus/tags/ title>Tags</a>
<a href=https://gndpwnd.github.io/cletus/posts/ title>Archive</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><div class=post-header><header><h1 class="p-name post-title">Analysis - JSON Merger</h1></header><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-03-01>2025-03-01</time></div><a class="post-hidden-url u-url" href=/cletus/posts/json_handler/>/cletus/posts/json_handler/</a>
<a href=https://gndpwnd.github.io/cletus/ class="p-name p-author post-hidden-author h-card" rel=me>cletus</a><div class=post-taxonomies><ul class=post-tags><li><a href=/cletus/tags/analysis/>#Analysis</a></li></ul></div></div><button onclick=downloadJSON()>Download Selected Articles</button>
<script>function downloadJSON(){let e={},t=(new Date).toISOString().split("T")[0],o=document.querySelector("h1.p-name.post-title"),n=o?o.textContent.split("-")[0].trim():"Uncategorized";e[t]||(e[t]={}),e[t][n]||(e[t][n]={}),document.querySelectorAll('input[type="checkbox"]:checked').forEach(function(s){let a=s.name,r=s.value,i=s.closest("p"),o=i?i.querySelectorAll("a[href]"):[],c=o.length>0?o[0].getAttribute("href"):"",l=o.length>1?o[1].textContent.trim():"No headline available";e[t][n][a]={headline:l,link:r,search:c}});let i=JSON.stringify(e,null,4),a=new Blob([i],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`selected_articles_${t}.json`,s.click()}</script></div><script>var toc=document.querySelector(".toc");toc&&toc.addEventListener("click",function(){event.target.tagName!=="A"&&(event.preventDefault(),this.open?(this.open=!1,this.classList.remove("expanded")):(this.open=!0,this.classList.add("expanded")))})</script><div class="content e-content"><h2>Upload JSON Files</h2><input type=file id=fileInput multiple accept=.json onchange=displaySelectedFiles()>
<button onclick=mergeJSON()>Merge and Download</button>
<button onclick=generatePDF()>Generate PDF</button><div id=fileListContainer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js></script><script>let fileContents={},selectedFiles=[],mergedData={};function displaySelectedFiles(){const e=document.getElementById("fileInput"),t=document.getElementById("fileListContainer");for(let t of e.files)selectedFiles.some(e=>e.name===t.name)||(selectedFiles.push(t),readFileContent(t));updateFileList(),e.value=""}function readFileContent(e){let t=new FileReader;t.onload=t=>{try{let n=JSON.parse(t.target.result);fileContents[e.name]=n,console.log(`File content stored: ${e.name}`)}catch(t){console.error(`Error parsing ${e.name}: ${t.message}`),alert(`Error parsing ${e.name}: ${t.message}`),removeFile(selectedFiles.findIndex(t=>t.name===e.name))}},t.onerror=()=>{console.error(`Error reading ${e.name}`),alert(`Error reading ${e.name}`),removeFile(selectedFiles.findIndex(t=>t.name===e.name))},t.readAsText(e)}function updateFileList(){const e=document.getElementById("fileListContainer");e.innerHTML="",selectedFiles.forEach((t,n)=>{const s=document.createElement("div");s.classList.add("file-item"),s.style.margin="10px 0",s.style.padding="5px",s.style.border="1px solid #ccc",s.style.borderRadius="5px",s.style.display="flex",s.style.justifyContent="space-between";const i=document.createElement("span");i.textContent=t.name,i.style.padding="5px";const o=document.createElement("button");o.textContent="Remove",o.style.backgroundColor="#ff4d4d",o.style.color="white",o.style.border="none",o.style.borderRadius="3px",o.style.padding="5px 10px",o.style.cursor="pointer",o.onclick=()=>removeFile(n),s.appendChild(i),s.appendChild(o),e.appendChild(s)})}function removeFile(e){if(e<0||e>=selectedFiles.length)return;let t=selectedFiles[e].name;selectedFiles.splice(e,1),delete fileContents[t],console.log(`File removed: ${t}`),updateFileList(),rebuildMergedData()}function rebuildMergedData(){mergedData={};for(let e in fileContents)mergeData(fileContents[e]);console.log("Merged data rebuilt after file removal")}function mergeJSON(){if(selectedFiles.length===0){alert("Please upload at least one JSON file.");return}mergedData={};for(let e in fileContents)mergeData(fileContents[e]);downloadMergedJSON()}function mergeData(e){for(let t in e){mergedData[t]||(mergedData[t]={});for(let n in e[t]){mergedData[t][n]||(mergedData[t][n]={});for(let s in e[t][n])mergedData[t][n][s]=e[t][n][s]}}}function downloadMergedJSON(){if(Object.keys(mergedData).length===0){alert("No data to merge. Please check your JSON files.");return}let t=JSON.stringify(mergedData,null,4),n=new Blob([t],{type:"application/json"}),e=document.createElement("a");e.href=URL.createObjectURL(n),e.download=`merged_articles.json`,e.click()}async function generatePDF(){if(selectedFiles.length===0){alert("Please upload at least one JSON file.");return}mergedData={};for(let e in fileContents)mergeData(fileContents[e]);if(Object.keys(mergedData).length===0){alert("No valid data available. Upload JSON files with proper structure.");return}const e=new jspdf.jsPDF({unit:"pt",format:"letter"}),t=72,j=72,i=144,l=72,r=30,c=25,v=25,d=15,u=20,h=20,m=10,f=15,p=5,g=40,s=e.internal.pageSize.getWidth(),b=e.internal.pageSize.getHeight(),a=s-t*2;let o=Object.keys(mergedData)[0];e.setFontSize(24),e.setFont("times","bold"),e.text("News Report",s/2,i,{align:"center"}),e.setFontSize(16),e.setFont("times","normal"),e.text("Created on "+(new Date).toLocaleDateString(),s/2,i+r,{align:"center"}),e.setFontSize(16),e.text("Report Date: "+o,s/2,i+r+c,{align:"center"}),e.setFontSize(14),e.text("Author: Cletus",s/2,i+r+c+v,{align:"center"});function n(t,n){return t+n>b-j?(e.addPage(),l):t}for(let i in mergedData[o]){e.addPage();let s=l;e.setFontSize(20),e.setFont("times","bold");const r=sanitizeText(i);e.text(r,t,s),s+=30;for(let k in mergedData[o][i]){let r=mergedData[o][i][k];s=n(s,40),e.setFontSize(12),e.setFont("times","bold");const F=sanitizeText(r.headline),v=e.splitTextToSize(F,a);e.text(v,t,s);const M=v.length*15;s+=M,s+=d,s=n(s,20),e.setFontSize(10),e.setFont("times","normal"),e.setTextColor(0,0,255),e.text("link",t,s),e.link(t,s-10,15,12,{url:r.link,newWindow:!0});const j=e.getTextWidth("link"),y=20;e.text("search",t+j+y,s),e.link(t+j+y,s-10,25,12,{url:r.search,newWindow:!0}),s+=u,s=n(s,30),e.setTextColor(0,0,0),e.setFontSize(12),e.setFont("times","bold"),e.text("Analysis:",t,s),s+=h,e.setFontSize(10),e.setFont("times","normal");const A="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",C=sanitizeText(A),O=e.splitTextToSize(C,a-10),x=O.length*14;s=n(s,x),e.text(O,t+10,s),s+=x,s+=m,s=n(s,30),e.setFontSize(10),e.setFont("times","italic"),e.text("Analysis Sources:",t,s),s+=f;const c=15,E=sanitizeText(r.link),w=e.splitTextToSize("• "+E,a-c),_=w.length*14;s=n(s,_),e.text(w,t+c,s),s+=_+p;const S=sanitizeText(r.search),b=e.splitTextToSize("• "+S,a-c),l=b.length*14;s=n(s,l),e.text(b,t+c,s),s+=l,s+=g}}e.save(`News_Report_${o}.pdf`)}function sanitizeText(e){return e?e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2013\u2014]/g,"-").replace(/[\u2026]/g,"...").replace(/[\u00A0]/g," ").replace(/[\u00AD]/g,"-").replace(/[^\x00-\x7F]/g,"").trim():""}</script></div></article><div class="pagination post-pagination"><div class="left pagination-item"><a href=/cletus/posts/eve_us-military_2025-04-07/>US Military - 2025-04-07 - EVE</a></div><div class="right pagination-item disabled"></div></div><script>function detectCurrentScheme2(){const e="auto";return localStorage!==null&&localStorage.getItem("user-color-scheme")?localStorage.getItem("user-color-scheme"):e==="dark"||e==="light"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}let giscusTheme=detectCurrentScheme2(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"Junyi-99/hugo-theme-anubis2","data-repo-id":"R_kgDOLEp76Q","data-category":"Announcements","data-category-id":"DIC_kwDOLEp76c4CcbPS","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",lazyload:"false",async:!0},main=document.querySelector("main"),giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([e,t])=>giscusScript.setAttribute(e,t)),main.appendChild(giscusScript)</script></main><footer class="common-footer noselect"><div class=common-footer-bottom><div style=display:flex;align-items:center;gap:8px>© Cletus, 2025
<a aria-label="Check statistics data" style=display:flex;align-items:center;border-bottom:none;cursor:pointer;color:var(--pagination-link-color) href=https://umami.xtra.science/share/Fy0goUn0b9rrxxGe/hugo-theme-anubis2.netlify.app><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-report-analytics"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5H7A2 2 0 005 7v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"/><path d="M9 3m0 2a2 2 0 012-2h2a2 2 0 012 2v0a2 2 0 01-2 2h-2A2 2 0 019 5z"/><path d="M9 17v-5"/><path d="M12 17v-1"/><path d="M15 17v-3"/></svg></a></div><div style=display:flex;align-items:center></div><div>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, theme <a target=_blank rel="noopener noreferrer" href=https://github.com/Junyi-99/hugo-theme-anubis2>Anubis2</a>.<br></div></div><p class="h-card vcard"><a href=https://gndpwnd.github.io/cletus/ class="p-name u-url url fn" rel=me>map[location:Your Mom's House name:Cletus]</a></p></footer></div></body></html>